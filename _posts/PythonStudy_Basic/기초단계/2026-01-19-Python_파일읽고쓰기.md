---
layout: post
title: "[Python] 파이썬 파일 읽고 쓰기 (open, read, with)"
date: 2026-01-19
categories: [Python_Basic, Study]
tags: [python, file, io, open, with]
---
# 시작하기 전에..
프로그램을 껐다 켜도 데이터가 사라지지 않게 하려면 어떻게 해야 할까요?
변수에 담긴 값은 메모리에 있기 때문에 프로그램 종료 시 사라집니다. 데이터를 영구적으로 보관하기 위해 **파일(File)**을 생성하고 읽고 쓰는 방법을 알아봅니다.

## 1. 파일 생성하기 (`open`)

파일을 다룰 때는 내장 함수 `open`을 사용합니다. 파일을 열었으면 반드시 `close`로 닫아주어야 합니다.

```python
# 파일_객체 = open(파일_이름, 파일_열기_모드)
f = open("새파일.txt", 'w')
f.close()

```

### 파일 열기 모드 총정리

| 모드    | 설명                   | 특징                                            |
| ------- | ---------------------- | ----------------------------------------------- |
| **`r`** | **읽기 모드 (read)**   | 파일을 읽기만 할 때 사용 (기본값)               |
| **`w`** | **쓰기 모드 (write)**  | 파일에 내용을 쓸 때 사용 (**기존 내용 삭제됨**) |
| **`a`** | **추가 모드 (append)** | 파일의 마지막에 새로운 내용을 추가할 때 사용    |

## 2. 파일 경로와 슬래시(/)

파일을 생성하거나 읽을 때 경로를 지정해야 합니다.

* **역슬래시(`\`) vs 슬래시(`/`):** 윈도우에서는 경로 구분자로 역슬래시(`\`)를 사용하지만, 파이썬 코드 내에서는 **슬래시(`/`)**를 사용하는 것이 좋습니다. (역슬래시는 이스케이프 문자로 해석될 위험이 있기 때문입니다.)

```python
# 추천하는 방식
f = open("C:/doit/새파일.txt", 'w') 

```

## 3. 파일을 쓰기 모드로 열어 내용 쓰기

`w` 모드로 파일을 열고 `write` 함수를 사용해 내용을 적습니다.

```python
f = open("C:/doit/새파일.txt", 'w', encoding="utf-8")
for i in range(1, 11):
    data = f"{i}번째 줄입니다.\n"
    f.write(data)
f.close()

```

* **주의:** `w` 모드는 해당 파일이 이미 존재할 경우, **기존 내용을 싹 지우고 새로 만듭니다.**
* **팁:** 한글이 깨지는 것을 막기 위해 `encoding="utf-8"`을 추가하는 습관을 들이는 것이 좋습니다.

## 4. 파일을 읽는 여러 가지 방법

파일을 읽을 때는 `r` 모드로 엽니다.

### ① `readline()` 함수 이용하기

파일의 **한 줄만** 읽어옵니다.

```python
f = open("새파일.txt", 'r', encoding="utf-8")
while True:
    line = f.readline()
    if not line: break  # 더 이상 읽을 줄이 없으면 반복문 탈출
    print(line, end="") # 이미 줄바꿈이 포함되어 있으므로 end="" 사용
f.close()

```

### ② `readlines()` 함수 이용하기

파일의 모든 줄을 읽어서 **각각의 줄을 요소로 갖는 리스트**로 돌려줍니다.

```python
f = open("새파일.txt", 'r', encoding="utf-8")
lines = f.readlines()
print(lines) 
# 결과: ['1번째 줄입니다.\n', '2번째 줄입니다.\n', ...]

for line in lines:
    print(line.strip()) # strip()으로 줄바꿈 문자(\n) 제거
f.close()

```

### ③ `read()` 함수 이용하기

파일의 내용 **전체를 문자열 하나로** 통째로 읽어옵니다.

```python
f = open("새파일.txt", 'r', encoding="utf-8")
data = f.read()
print(data)
f.close()

```

### ④ 파일 객체 `for`문과 함께 사용하기 (많이 사용)

별도의 읽기 함수 없이 파일 객체 자체를 `for`문에 넣으면 줄 단위로 읽어옵니다. (메모리 효율적)

```python
f = open("새파일.txt", 'r', encoding="utf-8")
for line in f:
    print(line.strip())
f.close()

```

## 5. 파일에 새로운 내용 추가하기 (`a` 모드)

`w` 모드를 쓰면 기존 내용이 날아간다고 했죠? 기존 내용은 유지하면서 뒤에 내용을 덧붙이려면 `a` 모드를 사용합니다.

```python
f = open("새파일.txt", 'a', encoding="utf-8")
for i in range(11, 20):
    data = f"{i}번째 줄입니다.\n"
    f.write(data)
f.close()

```

## 6. `with`문과 함께 사용하기(많이 사용)
파일을 열면(`open`) 항상 닫아줘야(`close`) 하는데, 코드를 짜다 보면 까먹거나 에러 때문에 닫히지 않는 경우가 생깁니다.
`with`문을 사용하면 블록을 벗어나는 순간 **자동으로 파일을 닫아줍니다.**

```python
# 기존 방식
f = open("foo.txt", 'w')
f.write("Life is too short, you need python")
f.close()

# with문 사용 방식 (훨씬 안전하고 간결함)
with open("foo.txt", 'w') as f:
    f.write("Life is too short, you need python")
    
# 여기로 내려오면 알아서 f.close()가 실행된 상태입니다.

```

---

**요약:**

1. 파일 열기: `open("파일명", "모드")`
2. 모드: `w`(덮어쓰기), `r`(읽기), `a`(이어쓰기)
3. **필수:** `with open(...) as f:` 구문을 사용하면 `close()`를 신경 쓰지 않아도 돼서 편리하다.