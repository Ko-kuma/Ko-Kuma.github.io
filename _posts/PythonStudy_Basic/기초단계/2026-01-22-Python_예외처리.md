---
layout: post
title: "[Python] 파이썬 예외 처리"
date: 2026-01-22
categories: [Python_Basic, Study]
tags: [python, exception, try, except, error_handling]
---
# 시작하기 전에..
프로그래밍을 하다 보면 수많은 오류를 만나게 됩니다. 
오류가 발생했을 때 프로그램이 와르르 무너지는 것을 막고, "잠시만요, 문제가 생겼지만 이렇게 처리할게요"라고 대처하는 기술, **예외 처리**에 대해 정리해봅니다.



## 1. 예외 처리란 무엇이며, 오류는 언제 발생하는가?

### 예외(Exception)란?
문법적인 오류는 없지만, 프로그램을 실행하는 도중에 발생하는 예상치 못한 사건을 말합니다.

### 오류가 발생하는 대표적인 상황들
1.  **ZeroDivisionError**: 숫자를 0으로 나누려고 할 때
    ```python
    4 / 0
    ```
2.  **IndexError**: 리스트의 범위를 벗어난 인덱스에 접근할 때
    ```python
    a = [1, 2]
    print(a[3])
    ```
3.  **FileNotFoundError**: 없는 파일을 열려고 할 때
    ```python
    f = open('없는파일', 'r')
    ```

## 2. 오류 예외 처리 기법: `try-except` 문

가장 기본적인 예외 처리 방식입니다.

```python
try:
    ... (오류가 발생할 수 있는 코드) ...
except [발생오류 [as 오류변수]]:
    ... (오류가 발생했을 때 수행할 코드) ...

```

**예시:**

```python
try:
    4 / 0
except ZeroDivisionError:
    print("0으로 나눌 수 없습니다.")

```

## 3. `try-finally` 문

오류 발생 여부와 상관없이 **무조건 실행**되어야 하는 코드가 있을 때 사용합니다.
주로 파일을 닫거나(`close`), 리소스를 해제할 때 씁니다.

```python
f = open('foo.txt', 'w')
try:
    # 무언가 작업을 수행하다가 에러가 날 수 있음
    data = f.read()
finally:
    f.close() # 에러가 나더라도 파일은 꼭 닫아야 함

```

## 4. 여러 개의 오류 처리하기

하나의 `try` 블록에서 여러 종류의 오류가 발생할 수 있습니다. `except`를 여러 개 써서 각각 처리할 수 있습니다.

```python
try:
    a = [1, 2]
    print(a[3]) # IndexError 발생
    print(4/0)  # 실행되지 않음
except ZeroDivisionError:
    print("0으로 나눌 수 없습니다.")
except IndexError:
    print("인덱싱 할 수 없습니다.")

```

**오류 메시지 함께 가져오기 (`as`)**

```python
try:
    4 / 0
except ZeroDivisionError as e:
    print(e) # "division by zero" 출력

```

## 5. `try-else` 문

오류가 **발생하지 않았을 때만** 실행되는 블록입니다.

```python
try:
    age = int(input("나이를 입력하세요: "))
except ValueError:
    print("숫자가 아닙니다.")
else:
    if age <= 18:
        print("미성년자입니다.")
    else:
        print("환영합니다.")

```

* **흐름:** `try` 실행  오류 없으면 `else` 실행  오류 있으면 `except` 실행

## 6. 오류 회피하기 (`pass`)

특정 오류가 발생해도 그냥 무시하고 넘어가고 싶을 때는 `pass`를 사용합니다.

```python
try:
    f = open("없는파일", 'r')
except FileNotFoundError:
    pass # 파일이 없으면 그냥 없는 대로 넘어감

```

## 7. 오류 일부러 발생시키기 (`raise`)

"왜 멀쩡한 코드에 오류를 내나요?"
 강제로 규칙을 지키게 하거나, 프로그램 흐름상 예외 상황임을 알리기 위해 사용합니다.

**예시: `Bird` 클래스를 상속받는 자식들은 반드시 `fly` 함수를 구현하게 강제하고 싶을 때**

```python
class Bird:
    def fly(self):
        raise NotImplementedError # 자식이 이 함수를 안 만들면 에러 발생시킴

class Eagle(Bird):
    pass

eagle = Eagle()
eagle.fly() # NotImplementedError 발생! (fly 함수를 구현 안 했으니까)

```

## 8. 예외 만들기 (사용자 정의 예외)

파이썬 내장 오류만으로는 부족할 때, 직접 오류 클래스를 만들 수 있습니다. `Exception` 클래스를 상속받으면 됩니다.

```python
# 1. 예외 클래스 만들기
class MyError(Exception):
    def __str__(self):
        return "허용되지 않는 별명입니다."

# 2. 예외 발생시키기
def say_nick(nick):
    if nick == '바보':
        raise MyError() # 우리가 만든 에러 발생
    print(nick)

# 3. 예외 처리하기
try:
    say_nick("천사")
    say_nick("바보")
except MyError as e:
    print(e)

```

---

### 요약: try문의 전체 구조

```python
try:
    # 실행할 코드
except 발생오류:
    # 오류가 났을 때
else:
    # 오류가 안 났을 때
finally:
    # 오류가 나든 안 나든 무조건

```