---
layout: post
title: "[Python] 파이썬과 문자열: 아스키코드부터 유니코드(UTF-8)"
date: 2026-01-25
categories: [Python_Basic, Study]
tags: [python, unicode, ascii, utf-8, encoding, decoding]
---
# 시작하기 전에..
파이썬을 하다 보면 한 번쯤 마주치는 문자열 인코딩 문제. 그 근본적인 원인을 이해하려면 **컴퓨터가 글자를 다루는 역사**를 알아야 합니다. 최초의 문자 셋인 아스키코드부터 전 세계 표준이 된 유니코드까지 정리해 봅니다.

## 1. 최초의 문자 셋: 아스키코드 (ASCII)

### 아스키코드란? (American Standard Code for Information Interchange)
컴퓨터는 0과 1밖에 모릅니다. 그래서 인간의 문자를 저장하려면 **"A는 숫자 65로 하자"**는 식의 약속이 필요합니다. 1960년대 미국에서 정의한 표준 부호 체계가 바로 아스키코드입니다.

* **특징:** 7비트(bit)를 사용합니다.
* **표현 범위:** $2^7 = 128$개의 문자만 표현 가능합니다. (영문 대소문자, 숫자, 특수기호 등)



### 아스키코드의 한계
미국에서 만들었기 때문에 **영어는 완벽**하게 표현되지만, 한글, 한자, 아랍어 같은 다른 나라 언어는 표현할 공간이 없었습니다. 그래서 각 나라는 남은 1비트를 활용해 독자적인 문자 셋(EUC-KR, CP949 등)을 만들기 시작했고, 이로 인해 **"서로 다른 규격 때문에 글자가 깨지는 대혼란(Mojibake)"**이 발생했습니다.

## 2. 전 세계 문자의 통일: 유니코드 (Unicode)

### 유니코드란?
전 세계의 모든 문자를 다룰 수 있도록 만든 **국제 표준 문자 셋**입니다.
"세상의 모든 글자에 고유한 번호(Code Point)를 부여하자!"는 약속입니다.

* **형태:** `U+` 뒤에 16진수 숫자를 붙여 표현합니다.
* **예시:**
    * 'A' : `U+0041`
    * '가' : `U+AC00`
    * '😊' : `U+1F60A`



### 유니코드 표 (Unicode Map)
유니코드는 단순한 '지도'입니다. 어떤 글자가 몇 번인지만 정해둔 것이죠. 이 번호를 컴퓨터 파일로 저장할 때 어떤 방식으로 비트(bit)를 나열할지 정하는 규칙이 바로 **인코딩(UTF-8, UTF-16 등)**입니다.

## 3. 유니코드로 문자열 다루기 (핵심)

파이썬 3부터는 기본 문자열(`str`)이 모두 **유니코드**입니다. 하지만 파일로 저장하거나 네트워크로 전송할 때는 반드시 **바이트(bytes)**로 변환해야 합니다.

### ① 인코딩 (Encoding)과 디코딩 (Decoding)

가장 중요한 개념입니다. 이 방향을 헷갈리면 에러가 납니다.

* **인코딩 (Encoding):** 문자열(사람) $\rightarrow$ 바이트(기계)
    * "파일로 저장하거나 전송하기 위해 포장하는 과정"
* **디코딩 (Decoding):** 바이트(기계) $\rightarrow$ 문자열(사람)
    * "포장을 뜯어서 사람이 읽을 수 있게 만드는 과정"



### ② 파이썬 코드 예제

```python
# 1. 문자열 (Unicode)
text = "한글"
print(type(text)) # <class 'str'>

# 2. 인코딩 (str -> bytes)
# UTF-8 방식을 사용하여 바이트로 변환
encoded_text = text.encode("utf-8")
print(encoded_text) # b'\xed\x95\x9c\xea\xb8\x80'
print(type(encoded_text)) # <class 'bytes'>

# 3. 디코딩 (bytes -> str)
# 다시 문자열로 복원
decoded_text = encoded_text.decode("utf-8")
print(decoded_text) # 한글

```

> **주의:** 인코딩할 때 쓴 방식(`utf-8`)과 디코딩할 때 쓰는 방식이 다르면(`euc-kr` 등) 오류가 발생하거나 글자가 깨집니다.

### ③ 파일 입출력과 인코딩

파일을 열고 닫을 때 `encoding` 인수를 명시하는 습관을 들이는 것이 좋습니다. (운영체제마다 기본 인코딩이 다르기 때문입니다.)

```python
# 파일 쓰기 (utf-8로 저장)
with open("data.txt", "w", encoding="utf-8") as f:
    f.write("파이썬 최고")

# 파일 읽기 (utf-8로 읽기)
with open("data.txt", "r", encoding="utf-8") as f:
    content = f.read()
    print(content)

```

### ④ 소스 코드의 인코딩

파이썬 3.0부터는 소스 코드 파일 자체의 기본 인코딩이 **UTF-8**입니다. 따라서 한글 주석이나 변수명을 써도 문제가 없습니다.
하지만 파이썬 2.x를 쓰거나 특정 인코딩을 명시해야 한다면 파일 최상단에 아래와 같은 주석을 답니다.

```python
# -*- coding: utf-8 -*-

a = "한글"
print(a)

```

---

### 요약 정리표

| 구분       | 아스키코드 (ASCII)      | 유니코드 (Unicode)           |
| ---------- | ----------------------- | ---------------------------- |
| **범위**   | 영문, 숫자 등 128자     | 전 세계 모든 문자 + 이모지   |
| **크기**   | 1 Byte (7 bit)          | 가변적 (UTF-8 기준 1~4 Byte) |
| **파이썬** | 파이썬 2의 기본 (`str`) | **파이썬 3의 기본 (`str`)**  |
| **핵심**   | 영어권 전용             | **국제 표준 (UTF-8 권장)**   |

> **결론:** 파이썬에서 한글 처리를 완벽하게 하려면, **"입력은 디코딩, 내부 처리는 유니코드, 출력은 인코딩"** 이라는 원칙